# Tema_Esame_16_01_2017

Numerosi operai di una fabbrica preparano un unico prodotto con l’utilizzo di nA quantità del componente A, e nB quantità del componente B. Un fattorino viene chiamato a riempire le quantità di A e B fino a totA e totB ogni volta che le loro quantità residue scendono sotto nA ed nB. Prima di iniziare a comporre il prodotto, ogni operaio si assicura di avere le quantità necessarie dei due componenti; viceversa chiama il fattorino e attende che arrivi con la scorta. Una volta terminato il suo compito il fattorino resta in attesa di essere richiamato. Una volta completato un prodotto ogni operaio inizia a prepararne un altro. Inizialmente le scorte di A e B sono piene e nessun prodotto è stato ancora preparato.
Si fornisca una soluzione in Java con il meccanismo dei semafori per implementare le operazioni concorrenti prepara_prodotto() (invocata dai thread operaio) e scorta_ingrediente() (invocata dal thread fattorino) dell’oggetto condiviso fabbrica (istanza di una classe Java!). Non occorre definire le classi dei thread.
